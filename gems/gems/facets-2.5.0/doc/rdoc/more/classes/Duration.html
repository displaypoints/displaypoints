<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>Class: Duration</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />

    <script language="JavaScript" type="text/javascript">
    // <![CDATA[

        function toggleSource( id )
        {
          var elem
          var link

          if( document.getElementById )
          {
            elem = document.getElementById( id )
            link = document.getElementById( "l_" + id )
          }
          else if ( document.all )
          {
            elem = eval( "document.all." + id )
            link = eval( "document.all.l_" + id )
          }
          else
            return false;

          if( elem.style.display == "block" )
          {
            elem.style.display = "none"
            link.innerHTML = "+"
          }
          else
          {
            elem.style.display = "block"
            link.innerHTML = "-"
          }
        }

        function openCode( url )
        {
          window.open( url, "SOURCE_CODE", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=480,width=750" ).focus();
        }
      // ]]>
    </script>
  </head>

  <body>
  <table width="100%" border='0' cellpadding='0' cellspacing='0' class='banner'><tr>
  <td class="file-title"><span class="file-title-prefix">Class</span><br />Duration</td>
  <td align="right">
    <table cellspacing="0" cellpadding="2">
      <tr valign="top">
        <td>In:</td>
        <td>
<a href="../files/lib/more/facets/duration_rb.html">lib/more/facets/duration.rb</a>
        </td>
      </tr>
    <tr>
      <td>Parent:</td>
      <td>
Object
     </td>
   </tr>
         </table>
        </td>
        </tr>
      </table>
 <!-- banner header -->

  <div id="bodyContent">
      <div id="content">




  <div class="sectiontitle">Methods</div>
  <span style="padding-right: 5px;"><a href="#M000465">+</a></span>
  <span style="padding-right: 5px;"><a href="#M000467">+</a></span>
  <span style="padding-right: 5px;"><a href="#M000466">-</a></span>
  <span style="padding-right: 5px;"><a href="#M000468">/</a></span>
  <span style="padding-right: 5px;"><a href="#M000457">&lt;=&gt;</a></span>
  <span style="padding-right: 5px;"><a href="#M000456">==</a></span>
  <span style="padding-right: 5px;"><a href="#M000446">[]</a></span>
  <span style="padding-right: 5px;"><a href="#M000472">after</a></span>
  <span style="padding-right: 5px;"><a href="#M000471">before</a></span>
  <span style="padding-right: 5px;"><a href="#M000460">days</a></span>
  <span style="padding-right: 5px;"><a href="#M000461">hours</a></span>
  <span style="padding-right: 5px;"><a href="#M000450">inspect</a></span>
  <span style="padding-right: 5px;"><a href="#M000462">minutes</a></span>
  <span style="padding-right: 5px;"><a href="#M000447">new</a></span>
  <span style="padding-right: 5px;"><a href="#M000449">reset_segments</a></span>
  <span style="padding-right: 5px;"><a href="#M000463">seconds</a></span>
  <span style="padding-right: 5px;"><a href="#M000469">segmented</a></span>
  <span style="padding-right: 5px;"><a href="#M000448">segments</a></span>
  <span style="padding-right: 5px;"><a href="#M000470">strftime</a></span>
  <span style="padding-right: 5px;"><a href="#M000453">to_a</a></span>
  <span style="padding-right: 5px;"><a href="#M000452">to_f</a></span>
  <span style="padding-right: 5px;"><a href="#M000454">to_h</a></span>
  <span style="padding-right: 5px;"><a href="#M000451">to_i</a></span>
  <span style="padding-right: 5px;"><a href="#M000455">to_s</a></span>
  <span style="padding-right: 5px;"><a href="#M000464">total</a></span>
  <span style="padding-right: 5px;"><a href="#M000459">weeks</a></span>
  <span style="padding-right: 5px;"><a href="#M000458">years</a></span>

<div class="sectiontitle">Included Modules</div>
<ul>
  <li>Comparable</li>
</ul>


  <div class="sectiontitle">Classes and Modules</div>
  Module <a href="Duration/Numeric.html" class="link">Duration::Numeric</a><br />
Module <a href="Duration/Time.html" class="link">Duration::Time</a><br />


  <div class="sectiontitle">Constants</div>
  <table border='0' cellpadding='5'>
  <tr valign='top'>
    <td class="attr-name">SECOND</td>
    <td>=</td>
    <td class="attr-value">1</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">MINUTE</td>
    <td>=</td>
    <td class="attr-value">60 * SECOND</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">HOUR</td>
    <td>=</td>
    <td class="attr-value">60 * MINUTE</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">DAY</td>
    <td>=</td>
    <td class="attr-value">24 * HOUR</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">WEEK</td>
    <td>=</td>
    <td class="attr-value">7 * DAY</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">YEAR</td>
    <td>=</td>
    <td class="attr-value">365 * DAY</td>
  </tr>
  <tr valign='top'>
    <td class="attr-name">SEGMENTS</td>
    <td>=</td>
    <td class="attr-value">%w{years weeks days hours minutes seconds}.collect{ |s| s.to_sym }</td>
  </tr>
  </table>


<div class="sectiontitle">Public Class methods</div>
<div class="method">
  <div class="title">
    <a name="M000446"></a><b>[]</b>(seconds, *segments)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000446_source')" id="l_M000446_source">+</a> ]</p>
  <div id="M000446_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 14</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-operator">[]</span>(<span class="ruby-identifier">seconds</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
    <span class="ruby-identifier">new</span>(<span class="ruby-identifier">seconds</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000447"></a><b>new</b>(seconds=0, *segments)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000447_source')" id="l_M000447_source">+</a> ]</p>
  <div id="M000447_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 19</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">seconds</span>=<span class="ruby-value">0</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
    <span class="ruby-ivar">@seconds</span> = <span class="ruby-identifier">seconds</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-identifier">reset_segments</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="sectiontitle">Public Instance methods</div>
<div class="method">
  <div class="title">
    <a name="M000465"></a><b>+</b>(other)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000465_source')" id="l_M000465_source">+</a> ]</p>
  <div id="M000465_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 123</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">+</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@seconds</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000467"></a><b>+</b>(other)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000467_source')" id="l_M000467_source">+</a> ]</p>
  <div id="M000467_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 131</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">+</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@seconds</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000466"></a><b>-</b>(other)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000466_source')" id="l_M000466_source">+</a> ]</p>
  <div id="M000466_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 127</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">-</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@seconds</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000468"></a><b>/</b>(other)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000468_source')" id="l_M000468_source">+</a> ]</p>
  <div id="M000468_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 135</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">/</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@seconds</span> <span class="ruby-operator">/</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_i</span>, <span class="ruby-identifier">segments</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000457"></a><b>&lt;=&gt;</b>(other)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000457_source')" id="l_M000457_source">+</a> ]</p>
  <div id="M000457_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 102</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;=&gt;</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-ivar">@seconds</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">other</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000456"></a><b>==</b>(other)
  </div>
  <div class="description">
  <p>
Returns true if <tt>other</tt> is also a <a
href="Duration.html">Duration</a> instance with the same <tt>value</tt>, or
if <tt>other == value</tt>.
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000456_source')" id="l_M000456_source">+</a> ]</p>
  <div id="M000456_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 94</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-operator">==</span>(<span class="ruby-identifier">other</span>)
    <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Duration</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">other</span>
      <span class="ruby-identifier">other</span>.<span class="ruby-identifier">seconds</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">seconds</span>
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">other</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">seconds</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000472"></a><b>after</b>(time)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000472_source')" id="l_M000472_source">+</a> ]</p>
  <div id="M000472_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 211</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after</span>(<span class="ruby-identifier">time</span>)
    <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">after</span>(<span class="ruby-identifier">time</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000471"></a><b>before</b>(time)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000471_source')" id="l_M000471_source">+</a> ]</p>
  <div id="M000471_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 206</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before</span>(<span class="ruby-identifier">time</span>)
    <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">before</span>(<span class="ruby-identifier">time</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000460"></a><b>days</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000460_source')" id="l_M000460_source">+</a> ]</p>
  <div id="M000460_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 116</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">days</span>    ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:days</span>]    ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000461"></a><b>hours</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000461_source')" id="l_M000461_source">+</a> ]</p>
  <div id="M000461_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 117</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hours</span>   ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:hours</span>]   ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000450"></a><b>inspect</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000450_source')" id="l_M000450_source">+</a> ]</p>
  <div id="M000450_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 50</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect</span>
    <span class="ruby-identifier">h</span> = <span class="ruby-identifier">to_h</span>
    <span class="ruby-identifier">segments</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span>
      <span class="ruby-node">&quot;#{h[l.to_sym]} #{l}&quot;</span>
    <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000462"></a><b>minutes</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000462_source')" id="l_M000462_source">+</a> ]</p>
  <div id="M000462_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 118</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">minutes</span> ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:minutes</span>] ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000449"></a><b>reset_segments</b>(*segments)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000449_source')" id="l_M000449_source">+</a> ]</p>
  <div id="M000449_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 28</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_segments</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
    <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">segments</span>.<span class="ruby-identifier">size</span>
    <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span>
      <span class="ruby-ivar">@segments</span> = [<span class="ruby-identifier">:days</span>, <span class="ruby-identifier">:hours</span>, <span class="ruby-identifier">:minutes</span>, <span class="ruby-identifier">:seconds</span>]
    <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>
      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">segments</span> = <span class="ruby-identifier">segments</span>[<span class="ruby-value">0</span>]
      <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Array</span>
        <span class="ruby-ivar">@segments</span> = <span class="ruby-identifier">segments</span>.<span class="ruby-identifier">collect</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">p</span><span class="ruby-operator">|</span> (<span class="ruby-identifier">p</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">chomp</span>(<span class="ruby-value str">'s'</span>) <span class="ruby-operator">+</span> <span class="ruby-value str">'s'</span>).<span class="ruby-identifier">to_sym</span> }
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">all?</span>{ <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-constant">SEGMENTS</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">s</span>) }
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">f</span> = <span class="ruby-constant">SEGMENTS</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">segments</span>)
        <span class="ruby-ivar">@segments</span> = <span class="ruby-constant">SEGMENTS</span>[<span class="ruby-identifier">f</span><span class="ruby-operator">..</span><span class="ruby-value">0</span>]
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">when</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">f</span> = <span class="ruby-constant">SEGMENTS</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">segments</span>[<span class="ruby-value">0</span>])
      <span class="ruby-identifier">t</span> = <span class="ruby-constant">SEGMENTS</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">segments</span>[<span class="ruby-value">1</span>])
      <span class="ruby-ivar">@segments</span> = <span class="ruby-constant">SEGMENTS</span>[<span class="ruby-identifier">f</span><span class="ruby-operator">..</span><span class="ruby-identifier">t</span>]
    <span class="ruby-keyword kw">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>
    <span class="ruby-keyword kw">end</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000463"></a><b>seconds</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000463_source')" id="l_M000463_source">+</a> ]</p>
  <div id="M000463_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 119</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">seconds</span> ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:seconds</span>] ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000469"></a><b>segmented</b>(*segments)
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000469_source')" id="l_M000469_source">+</a> ]</p>
  <div id="M000469_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 140</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">segmented</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">segments</span>)
    <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@seconds</span>, <span class="ruby-identifier">segments</span>)
    <span class="ruby-comment cmt">#segments = segments.collect{ |p| p.to_s.downcase.chomp('s') }</span>
    <span class="ruby-comment cmt">#y,w,d,h,m,s = nil,nil,nil,nil,nil,nil</span>
    <span class="ruby-comment cmt">#x = @seconds</span>
    <span class="ruby-comment cmt">#y, x = *x.divmod(YEAR)   if segments.include?('year')</span>
    <span class="ruby-comment cmt">#w, x = *x.divmod(WEEK)   if segments.include?('week')</span>
    <span class="ruby-comment cmt">#d, x = *x.divmod(DAY)    if segments.include?('day')</span>
    <span class="ruby-comment cmt">#h, x = *x.divmod(HOUR)   if segments.include?('hour')</span>
    <span class="ruby-comment cmt">#m, x = *x.divmod(MINUTE) if segments.include?('minute')</span>
    <span class="ruby-comment cmt">#s = x if segments.include?('second')</span>
    <span class="ruby-comment cmt">#[y, w, d, h, m, s].compact</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000448"></a><b>segments</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000448_source')" id="l_M000448_source">+</a> ]</p>
  <div id="M000448_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 25</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">segments</span>; <span class="ruby-ivar">@segments</span>; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000470"></a><b>strftime</b>(fmt)
  </div>
  <div class="description">
  <p>
Format duration.
</p>
<p>
<b>Identifiers</b>
</p>
<pre>
    %w -- Number of weeks
    %d -- Number of days
    %h -- Number of hours
    %m -- Number of minutes
    %s -- Number of seconds
    %t -- Total number of seconds
    %x -- Duration#to_s
    %% -- Literal `%' character
</pre>
<p>
<b>Example</b>
</p>
<pre>
    d = Duration.new(:weeks =&gt; 10, :days =&gt; 7)
    =&gt; #&lt;Duration: 11 weeks&gt;
    d.strftime(&quot;It's been %w weeks!&quot;)
    =&gt; &quot;It's been 11 weeks!&quot;
</pre>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000470_source')" id="l_M000470_source">+</a> ]</p>
  <div id="M000470_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 174</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strftime</span>(<span class="ruby-identifier">fmt</span>)
    <span class="ruby-identifier">h</span> = <span class="ruby-identifier">to_h</span>
    <span class="ruby-identifier">hx</span> = {
     <span class="ruby-value str">'y'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:years</span>]  ,
     <span class="ruby-value str">'w'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:weeks</span>]  ,
     <span class="ruby-value str">'d'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:days</span>]   ,
     <span class="ruby-value str">'h'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:hours</span>]  ,
     <span class="ruby-value str">'m'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:minutes</span>],
     <span class="ruby-value str">'s'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:seconds</span>],
     <span class="ruby-value str">'t'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">total</span>,
     <span class="ruby-value str">'x'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">to_s</span> 
    }
    <span class="ruby-identifier">fmt</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp re">/%?%(w|d|h|m|s|t|x)/</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">hx</span>[<span class="ruby-identifier">match</span>[<span class="ruby-value">1</span><span class="ruby-operator">..</span><span class="ruby-value">1</span>]]
    <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">'%%'</span>, <span class="ruby-value str">'%'</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000453"></a><b>to_a</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000453_source')" id="l_M000453_source">+</a> ]</p>
  <div id="M000453_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 62</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_a</span>
    <span class="ruby-identifier">a</span>, <span class="ruby-identifier">s</span> = [], <span class="ruby-ivar">@seconds</span>
    <span class="ruby-identifier">a</span>[<span class="ruby-value">5</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">YEAR</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:years</span>)
    <span class="ruby-identifier">a</span>[<span class="ruby-value">4</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">WEEK</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:weeks</span>)
    <span class="ruby-identifier">a</span>[<span class="ruby-value">3</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">DAY</span>)    <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:days</span>)
    <span class="ruby-identifier">a</span>[<span class="ruby-value">2</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">HOUR</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:hours</span>)
    <span class="ruby-identifier">a</span>[<span class="ruby-value">1</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">MINUTE</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:minutes</span>)
    <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">SECOND</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:seconds</span>)
    <span class="ruby-identifier">a</span>.<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">reverse</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000452"></a><b>to_f</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000452_source')" id="l_M000452_source">+</a> ]</p>
  <div id="M000452_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 58</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_f</span> ; <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">to_f</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000454"></a><b>to_h</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000454_source')" id="l_M000454_source">+</a> ]</p>
  <div id="M000454_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 74</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_h</span>
    <span class="ruby-identifier">h</span>, <span class="ruby-identifier">s</span> = {}, <span class="ruby-ivar">@seconds</span>
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:years</span>],   <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">YEAR</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:years</span>)
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:weeks</span>],   <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">WEEK</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:weeks</span>)
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:days</span>],    <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">DAY</span>)    <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:days</span>)
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:hours</span>],   <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">HOUR</span>)   <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:hours</span>)
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:minutes</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">MINUTE</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:minutes</span>)
    <span class="ruby-identifier">h</span>[<span class="ruby-identifier">:seconds</span>], <span class="ruby-identifier">s</span> = <span class="ruby-operator">*</span><span class="ruby-identifier">s</span>.<span class="ruby-identifier">divmod</span>(<span class="ruby-constant">SECOND</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@segments</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">:seconds</span>)
    <span class="ruby-identifier">h</span>
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000451"></a><b>to_i</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000451_source')" id="l_M000451_source">+</a> ]</p>
  <div id="M000451_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 57</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_i</span> ; <span class="ruby-ivar">@seconds</span>.<span class="ruby-identifier">to_i</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000455"></a><b>to_s</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000455_source')" id="l_M000455_source">+</a> ]</p>
  <div id="M000455_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 85</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
    <span class="ruby-identifier">h</span> = <span class="ruby-identifier">to_h</span>
    <span class="ruby-identifier">segments</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">collect</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">l</span><span class="ruby-operator">|</span>
      <span class="ruby-node">&quot;#{h[l.to_sym]} #{l}&quot;</span>
    <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)
  <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000464"></a><b>total</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000464_source')" id="l_M000464_source">+</a> ]</p>
  <div id="M000464_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 121</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">total</span> ; <span class="ruby-identifier">seconds</span> ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000459"></a><b>weeks</b>()
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000459_source')" id="l_M000459_source">+</a> ]</p>
  <div id="M000459_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 115</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">weeks</span>   ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:weeks</span>]   ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
<div class="method">
  <div class="title">
    <a name="M000458"></a><b>years</b>()
  </div>
  <div class="description">
  <p>
def self.===(other) #:nodoc:
</p>
<pre>
  other.is_a?(Duration) rescue super
</pre>
<p>
end
</p>
  </div>
<div class="sourcecode">
  <p class="source-link">[ <a href="javascript:toggleSource('M000458_source')" id="l_M000458_source">+</a> ]</p>
  <div id="M000458_source" class="dyn-source">
<pre>
<span class="ruby-comment cmt"># File lib/more/facets/duration.rb, line 114</span>
  <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">years</span>   ; <span class="ruby-identifier">to_h</span>[<span class="ruby-identifier">:years</span>]   ; <span class="ruby-keyword kw">end</span>
</pre>
  </div>
</div>
</div>
</div>

  </div>

    </body>
</html>